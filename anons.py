from hikka import loader

class AutoChat(loader.Module):
    """–ú–æ–¥—É–ª—å –¥–ª—è –∞–≤—Ç–æ–ø–æ–∏—Å–∫–∞ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π"""
    strings = {"name": "AutoChat"}

    async def client_ready(self, client, db):
        self.client = client
        self.target_chat = "@palata_6numberr"  # –ß–∞—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
        self.message_text = (
            "üåü –ü—Ä–∏–≥–ª–∞—à–∞–µ–º –≤–∞—Å –Ω–∞ –ª–∞–º–ø–æ–≤—ã–µ –ø–æ—Å–∏–¥–µ–ª–∫–∏ –≤ –Ω–∞—à–µ–º —á–∞—Ç–µ! üåü\n\n"
            "–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –¥—Ä—É–∂–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –≥–¥–µ –≤–∞—Å –∂–¥—É—Ç:\n\n"
            "‚ú® –î–æ–±—Ä—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã, –≥–æ—Ç–æ–≤—ã–µ –ø–æ–º–æ—á—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å!\n"
            "üéâ –£–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏ –Ω–∞ –∑–≤—ë–∑–¥—ã!\n"
            "üí¨ –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –≤–µ—Å—ë–ª—ã–µ –±–µ—Å–µ–¥—ã!\n\n"
            "–ù–µ —É–ø—É—Å—Ç–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é –Ω–∞—à–µ–π –¥—Ä—É–∂–Ω–æ–π —Å–µ–º—å–∏!\n\n"
            "üë®‚Äçüë©‚Äçüëß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ–º—å–µ:\n\n"
            "üîû –í–æ–∑—Ä–∞—Å—Ç: –æ—Ç 13\n"
            "üë§ –ü–æ–ª: –Ω–µ –≤–∞–∂–µ–Ω!!!\n\n"
            "üëâ –°—Å—ã–ª–∫–∞ –Ω–∞ —á–∞—Ç: @palata_6numberr\n\n"
            "–ñ–¥–µ–º –≤–∞—Å —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º! üíñ"
        )

    # –ö–æ–º–∞–Ω–¥–∞ /start, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
    @loader.command()
    async def start(self, message):
        """–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
        await message.answer("–ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")

    # –ö–æ–º–∞–Ω–¥–∞ /set_chat, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å —Ü–µ–ª–µ–≤–æ–π —á–∞—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    @loader.command()
    async def set_chat(self, message, chat_name: str):
        """–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–π —á–∞—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π"""
        self.target_chat = chat_name
        await message.answer(f"–¶–µ–ª–µ–≤–æ–π —á–∞—Ç –∏–∑–º–µ–Ω—ë–Ω –Ω–∞: {self.target_chat}")

    # –ö–æ–º–∞–Ω–¥–∞ /set_message, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è
    @loader.command()
    async def set_message(self, message, new_message: str):
        """–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è"""
        self.message_text = new_message
        await message.answer("–°–æ–æ–±—â–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ!")

    # –ö–æ–º–∞–Ω–¥–∞ /i –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ–∏—Å–∫–∞ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
    @loader.command()
    async def i(self, message):
        """–ó–∞–ø—É—Å–∫ –ø–æ–∏—Å–∫–∞ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤"""
        await message.answer("–ü–æ–∏—Å–∫ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ –Ω–∞—á–∞—Ç!")
        await self.client.send_message(self.target_chat, "–ò—Å–∫–∞—Ç—å —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ üåÄ")

    # –ö–æ–º–∞–Ω–¥–∞ /stop –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
    @loader.command()
    async def stop(self, message):
        """–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤"""
        await message.answer("–ü–æ–∏—Å–∫ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
        # –ï—Å–ª–∏ –≤ –ø–æ–∏—Å–∫–µ, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ–≥–æ
        self.is_running = False
        await self.client.send_message(self.target_chat, "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å üíî")